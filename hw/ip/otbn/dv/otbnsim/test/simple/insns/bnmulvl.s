/* Copyright lowRISC contributors (OpenTitan project). */
/* Licensed under the Apache License, Version 2.0, see LICENSE for details. */
/* SPDX-License-Identifier: Apache-2.0 */

.section .text.start
/*
  Testing each lane results in 30 results.
  Thus only load one datatype at a time into w0 and w1
  Results are ordered (increasing lane):
  16b:  w2 to w17
  32b:  w18 to w25
  64b:  w26 to w29
  128b: w30 and w31
*/


addi x2, x0, 0
la     x3, vec32a
bn.lid x2++, 0(x3)
la     x3, vec32b
bn.lid x2++, 0(x3)
bn.mulvl.8S  w18, w0, w1, 0
bn.mulvl.8S  w19, w0, w1, 1
bn.mulvl.8S  w20, w0, w1, 2
bn.mulvl.8S  w21, w0, w1, 3
bn.mulvl.8S  w22, w0, w1, 4
bn.mulvl.8S  w23, w0, w1, 5
bn.mulvl.8S  w24, w0, w1, 6
bn.mulvl.8S  w25, w0, w1, 7

addi x2, x0, 0
la     x3, vec64a
bn.lid x2++, 0(x3)
la     x3, vec64b
bn.lid x2++, 0(x3)
bn.mulvl.4D  w26, w0, w1, 0
bn.mulvl.4D  w27, w0, w1, 1
bn.mulvl.4D  w28, w0, w1, 2
bn.mulvl.4D  w29, w0, w1, 3

addi x2, x0, 0
la     x3, vec128a
bn.lid x2++, 0(x3)
la     x3, vec128b
bn.lid x2++, 0(x3)
bn.mulvl.2Q  w30, w0, w1, 0
bn.mulvl.2Q  w31, w0, w1, 1


addi x2, x0, 0 /* reset x2*/
addi x3, x0, 0 /* reset x3*/

ecall

.section .data
/*
  32bit vector vec32a for instruction mulvl
  vec32a = [0, 1, 44913, 9734, 23276, 65251, 13010, 40903]
  vec32a = 0x00000000000000010000af710000260600005aec0000fee3000032d200009fc7
*/
vec32a:
  .word 0x00009fc7
  .word 0x000032d2
  .word 0x0000fee3
  .word 0x00005aec
  .word 0x00002606
  .word 0x0000af71
  .word 0x00000001
  .word 0x00000000

/*
  32bit vector vec32b for instruction mulvl
  vec32b = [4140082361, 1869666356, 636760, 207841, 59661, 52504, 947, 30691]
  vec32b = 0xf6c4a4b96f70d8340009b75800032be10000e90d0000cd18000003b3000077e3
*/
vec32b:
  .word 0x000077e3
  .word 0x000003b3
  .word 0x0000cd18
  .word 0x0000e90d
  .word 0x00032be1
  .word 0x0009b758
  .word 0x6f70d834
  .word 0xf6c4a4b9

/*
  Result of 32bit mulvl index 0
  res = [0, 30691, 1378424883, 298746194, 714363716, 2002618441, 399289910, 1255353973]
  res = 0x00000000000077e35229183311ce81522a945344775d884917ccae364ad32e75
*/

/*
  Result of 32bit mulvl index 1
  res = [0, 947, 42532611, 9218098, 22042372, 61792697, 12320470, 38735141]
  res = 0x00000000000003b30288ff03008ca8320150570403aee1b900bbfed6024f0d25
*/

/*
  Result of 32bit mulvl index 2
  res = [0, 52504, 2358112152, 511073936, 1222083104, 3425938504, 683077040, 2147571112]
  res = 0x000000000000cd188c8def981e765e9048d78220cc33ac4828b6edb0800155a8
*/

/*
  Result of 32bit mulvl index 3
  res = [0, 59661, 2679554493, 580740174, 1388669436, 3892939911, 776189610, 2440313883]
  res = 0x000000000000e90d9fb6c1bd229d644e52c569fce8098c872e43b6aa91743c1b
*/

/*
  Result of 32bit mulvl index 4
  res = [0, 207841, 744828241, 2023124294, 542739820, 676931203, 2704011410, 4206353127]
  res = 0x0000000000032be12c652d5178966d4620598d6c28592683a12bf092fab7dae7
*/

/*
  Result of 32bit mulvl index 5
  res = [0, 636760, 2828998104, 1903254544, 1936323872, 2894521096, 3989280304, 275590504]
  res = 0x000000000009b758a89f15d871715c107369f520ac86e308edc79630106d2d68
*/

/*
  Result of 32bit mulvl index 6
  res = [0, 1869666356, 1419442932, 1555876152, 1745459184, 3348319772, 1959494312, 3070254188]
  res = 0x000000006f70d834549afaf45cbcc938680997f0c7934e1c74cb82a8b7005c6c
*/

/*
  Result of 32bit mulvl index 7
  res = [0, 4140082361, 1499933865, 4178530902, 2670781580, 3956121099, 3581624770, 4113232591]
  res = 0x00000000f6c4a4b959672ca9f90f52569f30e48cebcd9e0bd57b41c2f52af2cf
*/

/*
  64bit vector vec64a for instruction mulvl
  vec64a = [0, 1, 2417127611, 30955]
  vec64a = 0x0000000000000000000000000000000100000000901270bb00000000000078eb
*/
vec64a:
  .word 0x000078eb
  .word 0x00000000
  .word 0x901270bb
  .word 0x00000000
  .word 0x00000001
  .word 0x00000000
  .word 0x00000000
  .word 0x00000000

/*
  64bit vector vec64b for instruction mulvl
  vec64b = [17614515565450322005, 5145075550695678108, 45867244350, 328746167066219]
  vec64b = 0xf4735494c14160554766faf41dc3609c0000000aade69b3e00012afe2e825e6b
*/
vec64b:
  .word 0x2e825e6b
  .word 0x00012afe
  .word 0xade69b3e
  .word 0x0000000a
  .word 0x1dc3609c
  .word 0x4766faf4
  .word 0xc1416055
  .word 0xf4735494

/*
  Result of 64bit mulvl index 0
  res = [0, 328746167066219, 9489707064164861993, 10176337601534809145]
  res = 0x000000000000000000012afe2e825e6b83b2364bd60fc8298d399d21cdeed439
*/

/*
  Result of 64bit mulvl index 1
  res = [0, 45867244350, 186518316611438154, 1419820548854250]
  res = 0x00000000000000000000000aade69b3e0296a56bb5ba864a00050b51bb7591ea
*/

/*
  Result of 64bit mulvl index 2
  res = [0, 5145075550695678108, 3164934787780825588, 15072083450156732212]
  res = 0x00000000000000004766faf41dc3609c2bec1b6bc2f3d1f4d12acc0ae7a2cf34
*/

/*
  Result of 64bit mulvl index 3
  res = [0, 17614515565450322005, 11847345534360653335, 8467997807790999047]
  res = 0x0000000000000000f4735494c1416055a46a39fe5ae08e1775845f240c2b4607
*/

/*
  128bit vector vec128a for instruction mulvl
  vec128a = [15163934324283487979, 59768885155910817024740993528977806]
  vec128a = 0x0000000000000000d2711ded0c4536eb000b82d563bae0bc42c1cf008893598e
*/
vec128a:
  .word 0x8893598e
  .word 0x42c1cf00
  .word 0x63bae0bc
  .word 0x000b82d5
  .word 0x0c4536eb
  .word 0xd2711ded
  .word 0x00000000
  .word 0x00000000

/*
  128bit vector vec128b for instruction mulvl
  vec128b = [86676785931336461155, 2613]
  vec128b = 0x0000000000000004b2e1cd923de2ab6300000000000000000000000000000a35
*/
vec128b:
  .word 0x00000a35
  .word 0x00000000
  .word 0x00000000
  .word 0x00000000
  .word 0x3de2ab63
  .word 0xb2e1cd92
  .word 0x00000004
  .word 0x00000000

/*
  Result of 128bit mulvl index 0
  res = [39623360389352754089127, 156176096912394964885648216091219007078]
  res = 0x0000000000000863fc96748e3e798ca7757e6c12f277e1956435e07208011666
*/

/*
  Result of 128bit mulvl index 1
  res = [293513988539949706980763568066538321377, 15209774316259874084367624368732863466]
  res = 0xdcd0bceb1d4df195eeebbe1474e935e10b714bc55d85267b79c9dfd723297bea
*/
